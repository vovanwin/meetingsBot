# Telegram Бот для Организации Встреч

Этот бот помогает организовывать встречи через Telegram. Он позволяет создавать встречи, управлять участниками и обрабатывать платежи.

## Возможности

- Создание встреч с описанием
- Установка лимита участников
- Различные типы оплаты (бесплатно, поровну, фиксированная сумма)
- Управление статусом встречи (черновик, активная, отменена, завершена)
- Отслеживание участников

## Технологии

- Go 1.21+
- SQLite для хранения данных
- [Uber FX](https://github.com/uber-go/fx) для dependency injection
- [Telebot](https://github.com/tucnak/telebot) для работы с Telegram API
- [SQLc](https://sqlc.dev/) для генерации SQL-кода
- [Task](https://taskfile.dev/) для автоматизации задач

## Структура проекта

```
.
├── cmd/                    # Точка входа приложения
├── config/                 # Конфигурация
├── internal/              
│   └── telegramBoll/      # Основная логика бота
│       ├── dbsqlc/        # Сгенерированный SQL-код
│       ├── dto/           # Объекты передачи данных
│       ├── handlers/      # Обработчики команд
│       ├── keyboards/     # Клавиатуры и кнопки
│       ├── queries/       # SQL-запросы
│       ├── repository/    # Слой доступа к данным
│       └── Tdep/          # Зависимости Telegram
├── migrations/            # Миграции базы данных
├── pkg/                   # Общие пакеты
└── tools/                 # Инструменты разработки
```

## Установка

1. Клонируйте репозиторий:
```bash
git clone https://github.com/vovanwin/meetingsBot.git
cd meetingsBot
```

2. Установите зависимости:
```bash
go mod download
```

3. Создайте конфигурационный файл:
```bash
cp config/config.example.yaml config/config.yaml
```

4. Настройте конфигурацию в `config/config.yaml`:
```yaml
telegram:
  token: "YOUR_BOT_TOKEN"
```

## Запуск

1. Примените миграции:
```bash
task migrate
```

2. Запустите бот:
```bash
task run
```

## Команды бота

- `/start` - Начало работы с ботом
- `/create` - Создание новой встречи

## Процесс создания встречи

1. Отправьте команду `/create`
2. Введите описание встречи
3. Укажите максимальное количество участников
4. Выберите тип оплаты:
   - Бесплатно
   - Поровну (общая сумма делится на всех)
   - Фиксированная сумма (с каждого участника)
5. Если выбрана оплата, введите сумму
6. Встреча создана! Используйте полученный код для приглашения участников

## Разработка

### Генерация SQL-кода

```bash
task sqlc
```

### Создание новой миграции

```bash
task migration-create name=your_migration_name
```

### Запуск тестов

```bash
task test
```

## Лицензия

MIT

## Автор

[vovanwin](https://github.com/vovanwin)


 
